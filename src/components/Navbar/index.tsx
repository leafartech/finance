import { HomeIcon, RectangleStackIcon, TrophyIcon, ChevronDoubleLeftIcon, Squares2X2Icon } from '@heroicons/react/24/outline'
import { useRouter } from 'next/router'
import Link from "next/link";
import { useContext, useEffect, useState } from 'react';
import { NavbarContext } from 'context/navbar';

export default function Navbar() {
    const router = useRouter()
    const { navbarToggle, setNavbarToggle } = useContext(NavbarContext)
    const [ isNavbarActived, setIsNavbarActived ] = useState<boolean>(false)

    return (
        <nav className={`flex flex-col items-start justify-start gap-8 border-b sm:bg-transparent border-zinc-300 pb-4 sm:pb-0 sm:border-r sm:border-gray-200 ${navbarToggle ? 'md:w-60 xxl:w-xxl' : 'w-14'}`}>
            <div className="w-full flex justify-between items-center sm:items-end mt-4 px-4">
                <div className="flex gap-2 items-end">
                    <svg className="h-6" viewBox="0 0 27 27" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M27.0001 13.5C27.0001 20.9558 20.9559 27 13.5001 27C6.04422 27 6.00815e-05 20.9558 6.00815e-05 13.5C6.00815e-05 6.04416 6.04422 0 13.5001 0C20.9559 0 27.0001 6.04416 27.0001 13.5ZM1.89006 13.5C1.89006 19.912 7.08803 21.375 13.5001 21.375C19.9121 21.375 25.1101 19.912 25.1101 13.5C25.1101 7.08797 19.9121 1.89 13.5001 1.89C7.08803 1.89 1.89006 7.08797 1.89006 13.5Z" fill="url(#paint0_linear_6_37)" />
                        <path d="M7.51501 15.75L12.9654 9.80415C13.3617 9.37179 14.0433 9.37179 14.4397 9.80415L19.89 15.75" stroke="url(#paint1_linear_6_37)" stroke-width="1.5" stroke-linecap="round" />
                        <defs>
                            <linearGradient id="paint0_linear_6_37" x1="15.3901" y1="4.19096e-09" x2="15.3901" y2="27" gradientUnits="userSpaceOnUse">
                                <stop stop-color="#FFF501" />
                                <stop offset="0.567708" stop-color="#FF0000" />
                                <stop offset="1" stop-color="#0019FF" />
                            </linearGradient>
                            <linearGradient id="paint1_linear_6_37" x1="7.51501" y1="12.375" x2="19.89" y2="12.375" gradientUnits="userSpaceOnUse">
                                <stop stop-color="#FFF501" />
                                <stop offset="0.510417" stop-color="#FF0000" />
                                <stop offset="1" stop-color="#0019FF" />
                            </linearGradient>
                        </defs>
                    </svg>
                    {navbarToggle && (
                        <svg className="h-5 hidden sm:block" viewBox="0 0 129 22" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M0.328125 17V5H3.5V7.11719H3.64062C3.89063 6.41406 4.30729 5.85937 4.89063 5.45312C5.47396 5.04687 6.17188 4.84375 6.98438 4.84375C7.80729 4.84375 8.50781 5.04948 9.08594 5.46094C9.66406 5.86719 10.0495 6.41927 10.2422 7.11719H10.3672C10.612 6.42969 11.0547 5.88021 11.6953 5.46875C12.3411 5.05208 13.1042 4.84375 13.9844 4.84375C15.1042 4.84375 16.013 5.20052 16.7109 5.91406C17.4141 6.6224 17.7656 7.6276 17.7656 8.92969V17H14.4453V9.58594C14.4453 8.91927 14.2682 8.41927 13.9141 8.08594C13.5599 7.7526 13.1172 7.58594 12.5859 7.58594C11.9818 7.58594 11.5104 7.77865 11.1719 8.16406C10.8333 8.54427 10.6641 9.04687 10.6641 9.67187V17H7.4375V9.51562C7.4375 8.92708 7.26823 8.45833 6.92969 8.10937C6.59635 7.76042 6.15625 7.58594 5.60938 7.58594C5.23958 7.58594 4.90625 7.67969 4.60938 7.86719C4.31771 8.04948 4.08594 8.30729 3.91406 8.64062C3.74219 8.96875 3.65625 9.35417 3.65625 9.79687V17H0.328125ZM22.0195 21.5C21.5977 21.5 21.2018 21.4661 20.832 21.3984C20.4674 21.3359 20.1654 21.2552 19.9258 21.1562L20.6758 18.6719C21.0664 18.7917 21.418 18.8568 21.7305 18.8672C22.0482 18.8776 22.3216 18.8047 22.5508 18.6484C22.7852 18.4922 22.9753 18.2266 23.1211 17.8516L23.3164 17.3438L19.0117 5H22.5117L24.9961 13.8125H25.1211L27.6289 5H31.1523L26.4883 18.2969C26.2643 18.9427 25.9596 19.5052 25.5742 19.9844C25.194 20.4688 24.7122 20.8411 24.1289 21.1016C23.5456 21.3672 22.8424 21.5 22.0195 21.5ZM32.918 17V1H43.5117V3.78906H36.3008V7.60156H42.8086V10.3906H36.3008V17H32.918ZM45.7246 17V5H49.0527V17H45.7246ZM47.3965 3.45312C46.9017 3.45312 46.4772 3.28906 46.123 2.96094C45.7741 2.6276 45.5996 2.22917 45.5996 1.76562C45.5996 1.30729 45.7741 0.914062 46.123 0.585938C46.4772 0.252604 46.9017 0.0859367 47.3965 0.0859367C47.8913 0.0859367 48.3132 0.252604 48.6621 0.585938C49.0163 0.914062 49.1934 1.30729 49.1934 1.76562C49.1934 2.22917 49.0163 2.6276 48.6621 2.96094C48.3132 3.28906 47.8913 3.45312 47.3965 3.45312ZM55.0469 10.0625V17H51.7188V5H54.8906V7.11719H55.0312C55.2969 6.41927 55.7422 5.86719 56.3672 5.46094C56.9922 5.04948 57.75 4.84375 58.6406 4.84375C59.474 4.84375 60.2005 5.02604 60.8203 5.39062C61.4401 5.75521 61.9219 6.27604 62.2656 6.95312C62.6094 7.625 62.7813 8.42708 62.7813 9.35937V17H59.4531V9.95312C59.4583 9.21875 59.2708 8.64583 58.8906 8.23438C58.5104 7.81771 57.987 7.60937 57.3203 7.60937C56.8724 7.60937 56.4766 7.70573 56.1328 7.89844C55.7943 8.09115 55.5286 8.3724 55.3359 8.74219C55.1484 9.10677 55.0521 9.54688 55.0469 10.0625ZM68.8262 17.2266C68.0605 17.2266 67.3783 17.0938 66.7793 16.8281C66.1803 16.5573 65.7064 16.1589 65.3574 15.6328C65.0137 15.1016 64.8418 14.4401 64.8418 13.6484C64.8418 12.9818 64.9642 12.4219 65.209 11.9687C65.4538 11.5156 65.7871 11.151 66.209 10.875C66.6309 10.599 67.11 10.3906 67.6465 10.25C68.1882 10.1094 68.7559 10.0104 69.3496 9.95312C70.0475 9.88021 70.61 9.8125 71.0371 9.75C71.4642 9.68229 71.7741 9.58333 71.9668 9.45312C72.1595 9.32292 72.2559 9.13021 72.2559 8.875V8.82812C72.2559 8.33333 72.0996 7.95052 71.7871 7.67969C71.4798 7.40885 71.0423 7.27344 70.4746 7.27344C69.8757 7.27344 69.3991 7.40625 69.0449 7.67187C68.6908 7.93229 68.4564 8.26042 68.3418 8.65625L65.2637 8.40625C65.4199 7.67708 65.7272 7.04687 66.1855 6.51562C66.6439 5.97917 67.235 5.56771 67.959 5.28125C68.6882 4.98958 69.5319 4.84375 70.4902 4.84375C71.1569 4.84375 71.7949 4.92187 72.4043 5.07812C73.0189 5.23437 73.5632 5.47656 74.0371 5.80469C74.5163 6.13281 74.8939 6.55469 75.1699 7.07031C75.446 7.58073 75.584 8.19271 75.584 8.90625V17H72.4277V15.3359H72.334C72.1413 15.7109 71.8835 16.0417 71.5605 16.3281C71.2376 16.6094 70.8496 16.8307 70.3965 16.9922C69.9434 17.1484 69.4199 17.2266 68.8262 17.2266ZM69.7793 14.9297C70.2689 14.9297 70.7012 14.8333 71.0762 14.6406C71.4512 14.4427 71.7454 14.1771 71.959 13.8438C72.1725 13.5104 72.2793 13.1328 72.2793 12.7109V11.4375C72.1751 11.5052 72.0319 11.5677 71.8496 11.625C71.6725 11.6771 71.472 11.7266 71.248 11.7734C71.0241 11.8151 70.8001 11.8542 70.5762 11.8906C70.3522 11.9219 70.1491 11.9505 69.9668 11.9766C69.5762 12.0339 69.235 12.125 68.9434 12.25C68.6517 12.375 68.4251 12.5443 68.2637 12.7578C68.1022 12.9661 68.0215 13.2266 68.0215 13.5391C68.0215 13.9922 68.1855 14.3385 68.5137 14.5781C68.847 14.8125 69.2689 14.9297 69.7793 14.9297ZM81.4941 10.0625V17H78.166V5H81.3379V7.11719H81.4785C81.7441 6.41927 82.1895 5.86719 82.8145 5.46094C83.4395 5.04948 84.1973 4.84375 85.0879 4.84375C85.9212 4.84375 86.6478 5.02604 87.2676 5.39062C87.8874 5.75521 88.3691 6.27604 88.7129 6.95312C89.0566 7.625 89.2285 8.42708 89.2285 9.35937V17H85.9004V9.95312C85.9056 9.21875 85.7181 8.64583 85.3379 8.23438C84.9577 7.81771 84.4342 7.60937 83.7676 7.60937C83.3197 7.60937 82.9238 7.70573 82.5801 7.89844C82.2415 8.09115 81.9759 8.3724 81.7832 8.74219C81.5957 9.10677 81.4993 9.54688 81.4941 10.0625ZM97.2734 17.2344C96.0443 17.2344 94.987 16.974 94.1016 16.4531C93.2214 15.9271 92.5443 15.1979 92.0703 14.2656C91.6016 13.3333 91.3672 12.2604 91.3672 11.0469C91.3672 9.81771 91.6042 8.73958 92.0781 7.8125C92.5573 6.88021 93.237 6.15365 94.1172 5.63281C94.9974 5.10677 96.0443 4.84375 97.2578 4.84375C98.3047 4.84375 99.2214 5.03385 100.008 5.41406C100.794 5.79427 101.417 6.32812 101.875 7.01562C102.333 7.70312 102.586 8.51042 102.633 9.4375H99.4922C99.4036 8.83854 99.1693 8.35677 98.7891 7.99219C98.4141 7.6224 97.9219 7.4375 97.3125 7.4375C96.7969 7.4375 96.3464 7.57812 95.9609 7.85937C95.5807 8.13542 95.2839 8.53906 95.0703 9.07031C94.8568 9.60156 94.75 10.2448 94.75 11C94.75 11.7656 94.8542 12.4167 95.0625 12.9531C95.276 13.4896 95.5755 13.8984 95.9609 14.1797C96.3464 14.4609 96.7969 14.6016 97.3125 14.6016C97.6927 14.6016 98.0339 14.5234 98.3359 14.3672C98.6432 14.2109 98.8958 13.9844 99.0937 13.6875C99.2969 13.3854 99.4297 13.0234 99.4922 12.6016H102.633C102.581 13.5182 102.331 14.3255 101.883 15.0234C101.44 15.7161 100.828 16.2578 100.047 16.6484C99.2656 17.0391 98.3411 17.2344 97.2734 17.2344ZM110.232 17.2344C108.998 17.2344 107.936 16.9844 107.045 16.4844C106.16 15.9792 105.477 15.2656 104.998 14.3437C104.519 13.4167 104.279 12.3203 104.279 11.0547C104.279 9.82031 104.519 8.73698 104.998 7.80469C105.477 6.8724 106.152 6.14583 107.021 5.625C107.896 5.10417 108.923 4.84375 110.1 4.84375C110.891 4.84375 111.628 4.97135 112.311 5.22656C112.998 5.47656 113.597 5.85417 114.107 6.35937C114.623 6.86458 115.024 7.5 115.311 8.26562C115.597 9.02604 115.74 9.91667 115.74 10.9375V11.8516H105.607V9.78906H112.607C112.607 9.3099 112.503 8.88542 112.295 8.51563C112.087 8.14583 111.798 7.85677 111.428 7.64844C111.063 7.4349 110.639 7.32812 110.154 7.32812C109.649 7.32812 109.201 7.44531 108.811 7.67969C108.425 7.90885 108.123 8.21875 107.904 8.60937C107.686 8.99479 107.574 9.42448 107.568 9.89844V11.8594C107.568 12.4531 107.678 12.9661 107.896 13.3984C108.12 13.8307 108.436 14.1641 108.842 14.3984C109.248 14.6328 109.73 14.75 110.287 14.75C110.657 14.75 110.995 14.6979 111.303 14.5938C111.61 14.4896 111.873 14.3333 112.092 14.125C112.311 13.9167 112.477 13.6615 112.592 13.3594L115.67 13.5625C115.514 14.3021 115.193 14.9479 114.709 15.5C114.23 16.0469 113.61 16.474 112.85 16.7813C112.094 17.0833 111.222 17.2344 110.232 17.2344ZM127.896 8.42187L124.85 8.60937C124.798 8.34896 124.686 8.11458 124.514 7.90625C124.342 7.69271 124.115 7.52344 123.834 7.39844C123.558 7.26823 123.227 7.20312 122.842 7.20312C122.326 7.20312 121.891 7.3125 121.537 7.53125C121.183 7.74479 121.006 8.03125 121.006 8.39062C121.006 8.67708 121.12 8.91927 121.35 9.11719C121.579 9.3151 121.972 9.47396 122.529 9.59375L124.701 10.0312C125.868 10.2708 126.738 10.6562 127.311 11.1875C127.883 11.7187 128.17 12.4167 128.17 13.2812C128.17 14.0677 127.938 14.7578 127.475 15.3516C127.016 15.9453 126.386 16.4089 125.584 16.7422C124.787 17.0703 123.868 17.2344 122.826 17.2344C121.238 17.2344 119.972 16.9036 119.029 16.2422C118.092 15.5755 117.542 14.6693 117.381 13.5234L120.654 13.3516C120.753 13.8359 120.993 14.2057 121.373 14.4609C121.753 14.7109 122.24 14.8359 122.834 14.8359C123.417 14.8359 123.886 14.724 124.24 14.5C124.6 14.2708 124.782 13.9766 124.787 13.6172C124.782 13.3151 124.654 13.0677 124.404 12.875C124.154 12.6771 123.769 12.526 123.248 12.4219L121.17 12.0078C119.998 11.7734 119.126 11.3672 118.553 10.7891C117.985 10.2109 117.701 9.47396 117.701 8.57812C117.701 7.80729 117.91 7.14323 118.326 6.58594C118.748 6.02865 119.339 5.59896 120.1 5.29687C120.865 4.99479 121.761 4.84375 122.787 4.84375C124.303 4.84375 125.495 5.16406 126.365 5.80469C127.24 6.44531 127.751 7.31771 127.896 8.42187Z" fill="black" />
                        </svg>
                    )}
                </div>
                <div className="flex sm:hidden flex-col w-5 h-[11px] justify-between" onClick={() => setIsNavbarActived(!isNavbarActived)}>
                    <span className="rounded-full w-full h-[1.5px] bg-zinc-500/80"></span>
                    <span className="rounded-full w-full h-[1.5px] bg-zinc-500/80"></span>
                    <span className="rounded-full w-full h-[1.5px] bg-zinc-500/80"></span>
                </div>
                <div className="hidden sm:block">
                    <ChevronDoubleLeftIcon className={`h-4 w-4 text-blue-700 cursor-pointer ${!navbarToggle && 'rotate-180 translate-x-5'}`} onClick={e => setNavbarToggle(!navbarToggle)} />
                </div>
            </div>
            <ul className={`w-full h-screen bg-zinc-100 sm:bg-transparent z-10 sm:z-0 ${isNavbarActived ? 'block sm:block' : 'hidden sm:block'}`}>
                <li>
                    <Link href="/geral" className={`relative flex gap-1 items-center hover:text-blue-700 py-1 ps-4 ${router.pathname.includes('/geral') ? 'text-blue-700 bg-blue-50' : 'text-gray-600 hover:bg-gray-100'} `}>
                        {router.pathname.includes('/geral') && <div className="absolute left-0 top-0 w-1 rounded-e h-full bg-blue-500"></div>}
                        <HomeIcon className="h-5 w-5" />
                        {navbarToggle && (
                            <span>Início</span>
                        )}
                    </Link>
                    <Link href="/metas" className={`relative flex gap-1 items-center hover:text-blue-700 py-1 ps-4 ${router.pathname.includes('/metas') ? 'text-blue-700 bg-blue-50' : 'text-gray-600 hover:bg-gray-100'} `}>
                        {router.pathname.includes('/metas') && <div className="absolute left-0 top-0 w-1 rounded-e h-full bg-blue-500"></div>}
                        <TrophyIcon className="h-5 w-5" />
                        {navbarToggle && (
                            <span>Metas</span>
                        )}
                    </Link>
                    <Link href="/movimentacoes" className={`relative flex gap-1 items-center hover:text-blue-700 py-1 ps-4 ${router.pathname.includes('/movimentacoes') ? 'text-blue-700 bg-blue-50' : 'text-gray-600 hover:bg-gray-100'} `}>
                        {router.pathname.includes('/movimentacoes') && <div className="absolute left-0 top-0 w-1 rounded-e h-full bg-blue-500"></div>}
                        <RectangleStackIcon className="h-5 w-5" />
                        {navbarToggle && (
                            <span>Movimentações</span>
                        )}
                    </Link>
                    <Link href="/projetos" className={`relative flex gap-1 items-center hover:text-blue-700 py-1 ps-4 ${router.pathname.includes('/planejamentos') ? 'text-blue-700 bg-blue-50' : 'text-gray-600 hover:bg-gray-100'} `}>
                        {router.pathname.includes('/projetos') && <div className="absolute left-0 top-0 w-1 rounded-e h-full bg-blue-500"></div>}
                        <Squares2X2Icon className="h-5 w-5" />
                        {navbarToggle && (
                            <span>Projetos</span>
                        )}
                    </Link>
                </li>
            </ul>
        </nav>
    )
}